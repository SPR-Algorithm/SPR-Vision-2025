# åŸºç¡€ç¯å¢ƒéƒ¨ç½²
## 1. å®‰è£…Ubuntu 22.04 LTS
æ³¨æ„çœ‹å¥½ç‰ˆæœ¬

## 2. fishroså®‰è£…ros2 humble

```
wget http://fishros.com/install -O fishros && . fishros
sudo apt-get install ros-humble-image-transport-plugins
sudo apt install ros-humble-asio-cmake-module
sudo apt install ros-humble-foxglove-bridge
sudo apt install ros-humble-serial-driver
sudo apt remove brltty
```

ä¸€åˆ‡å®‰è£…è¿›è¡Œå®Œæ¯•åï¼Œè¿è¡Œä¸€æ¬¡

```
sudo apt update && sudo apt upgrade
```



## 3. ç¼–è¯‘å®‰è£…CH341é©±åŠ¨

ä¸‹è½½ch341é©±åŠ¨

https://www.wch.cn/download/CH341SER\_LINUX\_ZIP.html

uname -rè·å–linuxå†…æ ¸ç‰ˆæœ¬

ä¸‹è½½å¯¹åº”å†…æ ¸ç‰ˆæœ¬çš„ch341.c

https://elixir.bootlin.com/linux/v6.8/source/drivers/usb/serial/ch341.c

æ›¿æ¢æ–‡ä»¶å¤¹å†…ch341.cæ–‡ä»¶

è¿›å…¥driveræ–‡ä»¶å¤¹

make

å¦‚æœæç¤ºæ²¡æœ‰gcc-12ï¼Œä½¿ç”¨aptå®‰è£…gcc-12

sudo make install

å¦‚æœæç¤ºinsmod: ERROR: could not insert module ch341.ko: Unknown symbol in module

è¿›è¡Œ

modinfo ch341.ko |grep depends
depends:        usbserial

ç„¶åsudo modprobe usbserial

é—®é¢˜åº”è¯¥è§£å†³

éªŒè¯ï¼šlsmod | grep ch34
ch341                  24576  0
usbserial              69632  1 ch341



## 4. éƒ¨ç½²å›ç„

æ‹¿åˆ°ros2ç¨‹åºåŒ…srcæ–‡ä»¶å¤¹ï¼Œåˆ›å»ºä»¥å…µç§åç§°å‘½åçš„æ–‡ä»¶å¤¹ï¼Œå°†srcæ–‡ä»¶å¤¹æ”¾å…¥å…¶ä¸­ï¼Œåœ¨srcä¸Šå±‚è¿è¡Œ

```
rosdepc update
rosdepc install --from-paths src --ignore-src -r -y
colcon build --symlink-install
```



## 5. æ·»åŠ ä¸²å£&ç›¸æœºçš„æƒé™è§„åˆ™

sudo cp camera.rules  /etc/udev/rules.d/

sudo cp serial.rules  /etc/udev/rules.d/

æ·»åŠ åè¦é‡å¯ç”Ÿæ•ˆ



## 6. å¯åŠ¨ç›¸æœºèŠ‚ç‚¹

ä½¿ç”¨USBè¿æ¥ç›¸æœº

åœ¨å·¥ä½œæ–‡ä»¶å¤¹è¿è¡Œ

source install/setup.bash

ğŸ‘†è®°å¾—è¿™ä¸ªå‘½ä»¤æ¯æ¬¡æ–°å»ºç»ˆç«¯éƒ½è¦æ‰§è¡Œä¸€æ¬¡

ros2 run mindvision\_camera mindvision\_camera\_node

ros2 run armor\_detector armor\_detector\_node

rqtæ·»åŠ 

Plugins->Visualization->Image View

Plugins->Configurations->Dynamic Reconfigure

rqtæ²¡æ‰¾åˆ°è¯é¢˜å’ŒèŠ‚ç‚¹è®°å¾—ç‚¹åˆ·æ–°



## 7. å¯åŠ¨è¯†åˆ«èŠ‚ç‚¹è°ƒè¯•

rqté€‰æ‹©/armor\_detectorèŠ‚ç‚¹é…ç½®ï¼Œæ‰“å¼€debugé€‰é¡¹ï¼Œå¯åœ¨å·¦ä¾§image viewçœ‹åˆ°/detector/result\_img

è°ƒæ•´ç›¸æœºå¯¹ç„¦å’Œå…‰åœˆï¼Œä½¿å…¶èƒ½è¯†åˆ«å‡ºè£…ç”²æ¿ä¸”ç½®ä¿¡åº¦ç¨³å®šäº98%-99%ä¹‹é—´



## 8. åˆå¹¶è¿ˆå¾·å¨è§†ç›¸æœºèŠ‚ç‚¹

å°†æˆ‘ä»¬çš„ros2-mindvision-cameraå’Œrm\_vision\_bringupå¦‚å›¾æ‹·è´è‡³ç›®å½•ä¸‹

![](docs/f1sCm1pDSwDnhCv4GhGT_d13GhEP55E6Jwe6aCn4oNg=.png)

å°†bringup.launch\_mvtest.pyæ‹·è´è‡³rm\_bringupèŠ‚ç‚¹å¯¹åº”ç›®å½•ä¸‹

**æ³¨æ„åˆ†è¾¨rm\_vision\_bringupå’Œrm\_bringupä¸¤ä¸ªä¸åŒçš„åå­—**

![](docs/67GaWSsOnjuiC-LQJusSQ_XAH5cgM9PPYzYkCS3rKVo=.png)

ç…§å¸¸ç¼–è¯‘å¹¶sourceï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨è¿ˆå¾·å¨è§†ç›¸æœºæ­é…ä¸­å—çš„åç«¯ç¨‹åºï¼š

```
ros2 launch rm_bringup bringup.launch_mvtest.py
```


# ä¸­å—æ–°ä»£ç éƒ¨ç½²
## 1.ç¼–è¯‘æ—¶è‹¥æç¤ºcmakeç‰ˆæœ¬è¿‡ä½ï¼Œå¯æŒ‰å¦‚ä¸‹æ–‡ç« æ–¹æ³•å®‰è£…cmake 3.24

https://blog.csdn.net/tanmx219/article/details/123495065

ä¸»è¦æ˜¯

chmod + x cmake-3.22.0-linux-x86\_64.sh

sudo ./cmakeçš„shæ–‡ä»¶ --skip-license --exclude-subdir --prefix=/usr/local

è¿™ä¸¤å¥

cmakeå®˜ç½‘https://cmake.org/files/

## 2.å…¶ä»–åº“æŒ‰ç…§readmeå®‰è£…

## 3.å®‰è£…spdlogåº“ï¼Œç‰ˆæœ¬1.14

```
git clone https://github.com/gabime/spdlog.git
cd spdlog && mkdir build && cd build
cmake .. && make -j
sudo make install
```
å¦‚ç¼–è¯‘g2oå‡ºç°å…³äºè¯¥åº“çš„æŠ¥é”™ï¼ŒæŒ‰ç…§é”™è¯¯æç¤ºåœ¨CmakeCacheé‡Œé¢æ·»åŠ -fPICé€‰é¡¹
## 4.FMTåº“å­˜åœ¨é‡å¤§ä¾èµ–é—®é¢˜ï¼Œéœ€æŒ‰ç…§å¦‚ä¸‹æ–¹å¼ä¿®å¤

ä¿®æ”¹armor\_detectorèŠ‚ç‚¹é‡Œarmor\_detector.cppçš„ä»£ç ï¼Œåœ¨includeé‡Œæ·»åŠ #include \<fmt/format.h>

ä¸‹è½½fmt10.2.1ï¼ŒæŒ‰å¦‚ä¸‹æ­¥éª¤ç¼–è¯‘å®‰è£…ï¼š

ä¿®æ”¹CMakeLists.txtï¼Œåœ¨æŒ‡å®šä½ç½®æ·»åŠ å¦‚ä¸‹è¡Œï¼š

```
Add -fPIC option
add_compile_options(-fPIC)
```

![](docs/p3XZKold31xFgpCrUgQssCxuooFgjEb0PcBcbobKgNI=.png)

cdè¿›å»æ‰§è¡Œï¼š

mkdir build && cd build
cmake ..
make
sudo make install

ç„¶åç¼–è¾‘build/CMakeCache.txtï¼Œåœ¨æ­¤å¤„æ·»åŠ å¦‚ä¸‹å‚æ•°

![](docs/BSRyhPmF56mW5Yb9JATeD7Ye1237wWlQ6FqYtxfkzeo=.png)

ç„¶åé‡æ–°åœ¨buildç›®å½•æ‰§è¡Œï¼š

make

sudo make install

å¦‚æ­¤ï¼Œç¼–è¯‘åº”è¯¥é€šè¿‡

## 5.g2oç¼–è¯‘æ€§èƒ½è¿‡å·®å¡æ­»è§£å†³æ–¹æ¡ˆ

å°†make -jæ”¹ä¸ºmake -j4

ä»»ä½•æ—¶å€™é‡åˆ°ç¼–è¯‘æ€§èƒ½é—®é¢˜éƒ½å¯å¦‚æ­¤å°è¯•

## 6.Ceres-Solverå®‰è£…
rosdepæç¤ºç¼ºå°‘ceresæ˜¯æ­£å¸¸ç°è±¡ä¸å¿…ç†ä¼šï¼Œç¡®ä¿aptä¸­ceresçš„ç‰ˆæœ¬ä¸º2.0.0
## 7.OpenVINOéƒ¨ç½²

é€‰[Go to the latest documentation for up-to-date information](https://docs.openvino.ai/)å¯¼èˆªè‡³æœ€æ–°ç‰ˆæœ¬

é€‰æ‹©[Install OpenVINO](https://docs.openvino.ai/2024/get-started/install-openvino.html)

* [OpenVINO Runtime on Linux](https://docs.openvino.ai/2024/get-started/install-openvino/install-openvino-linux.html)
  * [Use APT](https://docs.openvino.ai/2024/get-started/install-openvino/install-openvino-apt.html#)

```
wget https://apt.repos.intel.com/intel-gpg-keys/GPG-PUB-KEY-INTEL-SW-PRODUCTS.PUB
sudo apt-key add GPG-PUB-KEY-INTEL-SW-PRODUCTS.PUB
echo "deb https://apt.repos.intel.com/openvino/2024 ubuntu22 main" | sudo tee /etc/apt/sources.list.d/intel-openvino-2024.list
sudo apt update
sudo apt install openvino
```


## 8.ä¸²å£åè®®è°ƒè¯•

## 9.æè¿°æ¨¡å‹å°ºå¯¸ä¿®æ”¹
å³æ‰‹ç³»ï¼Œç›¸æœºé•œç‰‡å¹³é¢ä¸­å¿ƒä¸äº‘å°è½¬åŠ¨è½´ä¸­å¿ƒçš„ç›¸å¯¹ä½ç½®
